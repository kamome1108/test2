# パーソナルAI調査エージェント：設計案

## 1. アプリケーション概要

- **名称:** パーソナルAI調査エージェント (仮称)
- **目的:** ユーザーが与えたテーマに基づき、ウェブを自律的に調査し、関連情報を要約して提示するGUIアプリケーション。
- **対象ユーザー:** 深く調査したいが時間のない研究者、ライター、学習者、ビジネスパーソンなど。

## 2. 主要機能とAIの役割

| 機能名 | 詳細説明 | 使用技術・AIの役割 |
| :--- | :--- | :--- |
| **GUIインターフェース** | ・調査テーマ入力欄。<br>・AIが提案するキーワード一覧の表示と編集。<br>・進捗表示、結果リスト表示。<br>・スクリーンショットサムネイルや詳細の閲覧。<br>・設定画面と結果エクスポート機能。 | **PyQt/PySide** を使用したGUI。 |
| **キーワード選定** | テーマから関連キーワード候補を生成し、ユーザーが編集できるようにする。 | ローカルLLM (例: Gemma 2B) を利用して生成。 |
| **ウェブ巡回とキャプチャ** | キーワード検索から上位ページを取得し、スクリーンショット撮影。<br>内部・外部リンクを抽出して巡回を継続。<br>サイト毎のアクセス制限や待機時間を設ける。 | `requests`, `Selenium`/`Playwright` によるブラウザ操作。 |
| 画像認識とテキスト抽出 | スクリーンショットにOCRを実行し、不要な領域を除外。 | `Pillow`/`OpenCV`, `pytesseract` を利用。 |
| **AIによる情報選定・要約** | 抽出テキストとメタ情報をLLMに渡し、関連度判定と要約を行う。 | ローカルLLMで重要度判定と要約。 |
| **結果の保存と表示** | 要約結果をSQLiteに保存し、GUIで一覧・詳細表示。 | `sqlite3` を使用。 |
| **バックグラウンド処理** | アプリ終了まで定期的に巡回を継続し、新情報を通知。 | `threading`/`multiprocessing` で非同期実行。 |

## 3. 技術スタック

- **GUIフレームワーク:** PyQt6 または PySide6
- **主要言語:** Python
- **Web操作:** Selenium または Playwright
- **画像処理:** Pillow または OpenCV
- **OCR:** pytesseract
- **ローカルLLM:** transformers ライブラリなど
- **データベース:** sqlite3

## 4. 開発時の注意点・考慮事項

- ローカルLLMは環境に合わせた軽量モデルや量子化モデルを選択する。
- OCR結果をクリーニングし、LLMへ渡すテキスト品質を向上させる。
- 過度なスクレイピングを避け、アクセス間隔を設ける。
- エラー処理を徹底し、GUIがフリーズしないよう非同期処理を管理する。
- 収集データはローカル保存とし、簡単に削除できるようにする。
